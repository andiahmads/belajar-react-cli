document.onreadystatechange = function () { !function () { function t() { e = document.getElementsByTagName("script"), l(a, function () { f(p) }) } var e, a = "//banner.agoda.com/js/data.js", n = "agoda_ad_client agoda_ad_width agoda_ad_height agoda_ad_country agoda_ad_city agoda_ad_language agoda_ad_hotelcategory agoda_ad_checkin agoda_ad_checkout agoda_ad_currency agoda_ad_iata agoda_ad_sbheader agoda_ad_sbfooter".split(" "); Array.prototype.indexOf || (Array.prototype.indexOf = function (t, e) { null == e ? e = 0 : e < 0 && (e = Math.max(0, this.length + e)); for (var a = e, n = this.length; a < n; a++) if (this[a] === t) return a; return -1 }); var r = function () { var t = navigator.userAgent.toLowerCase(); return -1 != t.indexOf("msie") && parseInt(t.split("msie")[1]) }, o = function (t) { for (var e in t) if (t.hasOwnProperty(e)) return !1; return !0 }, c = function (t, e) { return -1 != t.indexOf(e) }, u = function (t) { return void 0 != t && "" != t && c(n, t) }, s = function () { var t = document.createElement("iframe"); return t.setAttribute("class", "agoda-smartbanner-default"), t.setAttribute("width", 200), t.setAttribute("height", 200), t.setAttribute("scrolling", "no"), t.setAttribute("frameBorder", "0"), t.setAttribute("src", "//banner.agoda.com/api/default.html"), t }, l = function (t, e) { var a = document.getElementsByTagName("head")[0], n = document.createElement("script"); n.src = t; var r = !1; n.onload = n.onreadystatechange = function () { r || this.readyState && "loaded" != this.readyState && "complete" != this.readyState || (r = !0, "function" == typeof e && e(this), n.onload = n.onreadystatechange = null, a.removeChild(n)) }, a.appendChild(n) }, f = function (t) { void 0 != t && "function" == typeof t && t(this) }, h = function (t) { var e, a, n = {}, r = /(agoda_ad([\s\w_\-"\;=\.\:\?\&\/]?)+;)/g, o = t.innerHTML, d = r.exec(o); if (null == d) return n; null != d && d.length > 0 && (o = d[0].replace(/(\r\n|\n|\r)/gm, "").replace(/\s+|"|'/g, "")); var c = o.split(";"); for (i = 0; i < c.length; i++) e = c[i].substr(0, c[i].indexOf("=")), a = c[i].substr(c[i].indexOf("=") + 1), u(e) && (n[e.replace("agoda_", "")] = encodeURIComponent(a)); return n }, g = function (t) { var e = ""; for (var a in t) t.hasOwnProperty(a) && (e += a + "=" + t[a] + "&"); return r() && r() < 8 && (e += "un=1&"), (e += "p=" + encodeURIComponent(window.location) + "&").slice(0, -1) }, m = function () { var t = smartBannerConfigulationAbTest, e = "&ab="; if (null == t || void 0 == t) return ""; for (var a = 0; a < t.length; a++) switch (a > 0 && (e += ","), t[a].type) { case "RANDOM": e += t[a].id + ":" + t[a].posibleData.charAt(Math.floor(Math.random() * t[a].posibleData.lenght)) } return e }, _ = function (t) { var e = null, a = 200, n = 200; return o(t) || (void 0 != t.ad_width && (a = t.ad_width), void 0 != t.ad_height && (n = t.ad_height), (e = document.createElement("iframe")).setAttribute("class", "agoda-smartbanner"), e.setAttribute("width", a), e.setAttribute("height", n), e.setAttribute("scrolling", "no"), e.setAttribute("frameBorder", "0"), e.setAttribute("src", "//banner.agoda.com/api/banner.html?" + g(t) + m()), e.config = t), e }, p = function () { for (d = 0; d < e.length; d++) { e[d]; if ("" != e[d].innerHTML) { var t = h(e[d]); if (!o(t)) try { var a = _(t); null != a && e[d].parentNode.insertBefore(a, e[d]) } catch (t) { try { console.log(t) } catch (t) { } e[d].parentNode.insertBefore(s(), e[d]) } } } return !1 }; document.addEventListener ? r() ? t() : document.addEventListener("DOMContentLoaded", function (e) { t() }, !1) : window.attachEvent ? window.attachEvent("onload", function (e) { t() }) : t() }() };